{% extends 'layout.html' %}

{% block pageTitle %}
    Which telephone number should we call for warnings?
{% endblock %}

{% block beforeContent %}

    {{ super() }}

    {{ govukBackLink ({
        text: 'Back',
        href: 'javascript:history.back()'
    }) }}

{% endblock %}

{% block content %}

{{ 'check' | redirect | safe if data['phone-consent'] == 'No' }}

{% set phoneNumberHTML %}
                    
    {{ govukInput ({
        id: 'phone-number',
        name: 'phone-number',
        value: data['phone-number'] if data['phone-number'] else '',
        classes: 'govuk-input--width-20',
        type: 'tel',
        label: {
            text: 'Contact telephone number',
            classes: 'govuk-input--width-20'
        }
    }) }}
    
{% endset %}

<div class="govuk-grid-row">

        <div class="govuk-grid-column-two-thirds">

            <form action="phone-call">

                {% if data['text-consent'] %}
                    
                    {{ govukRadios ({
                        idPrefix: 'phone-use-text-number',
                        name: 'phone-use-text-number',
                        fieldset: {
                            legend: {
                                text: 'Which telephone number should we call for warnings?',
                                isPageHeading: true,
                                classes: 'govuk-fieldset__legend--l'
                            }
                        },
                        hint: {
                            text: 'If you use a text relay service, for example if you have a hearing impairment, use your TextNumber.'
                        },
                        items: [
                            {
                                text: data['text-number'],
                                value: 'Yes',
                                checked: true if data['phone-use-text-number'] == 'Yes'
                            },
                            {
                                text: 'A different telephone number',
                                value: 'No',
                                checked: true if data['phone-use-text-number'] == 'No',
                                conditional: {
                                    html: phoneNumberHTML
                                }
                            }
                        ]
                    }) }}
                    
                {% else %}

                    <h1 class="govuk-heading-l">Which telephone number should we call for warnings?</h1>

                    {{ phoneNumberHTML }}
                    
                {% endif %}

                {{ govukButton ({
                    html: 'Continue'
                }) }}

            </form>

        </div>

</div>

{% endblock %}